(()=>{"use strict";var t={365(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,"/* Reset */\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n*:not(dialog) {\n  margin: 0;\n}\n\nul {\n  list-style: none;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n  display: block;\n  max-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  html {\n    interpolate-size: allow-keywords;\n  }\n}\n\nbody {\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n  background-color: #fdfdfd;\n  min-height: 100svh;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\np {\n  text-wrap: pretty;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  text-wrap: balance;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\nhtml {\n  font-family:\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    sans-serif;\n}\n",""]);const s=a},672(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".profile-picture {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  object-fit: cover;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n",""]);const s=a},919(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".btn-text {\n  background: none;\n  border: none;\n  padding: 0;\n  color: inherit;\n  cursor: pointer;\n  font: inherit;\n  text-align: start;\n}\n\n.sidebar .btn-text {\n  padding: 0.5rem;\n  border-radius: 0 0.5rem 0.5rem 0;\n  transition:\n    background 0.15s ease,\n    color 0.15s ease;\n}\n\n.sidebar .btn-text:hover {\n  background: #e4efff;\n  color: #1d4ed8;\n}\n\n.sidebar .btn-text.active {\n  background: #dbeafe;\n  color: #1e40af;\n  font-weight: 500;\n  position: relative;\n}\n\n.sidebar .btn-text.active::before {\n  content: '';\n  position: absolute;\n  left: -0.25rem;\n  top: 2px;\n  bottom: 2px;\n  width: 3px;\n  border-radius: 2px;\n  background: #2563eb;\n}\n\n.btn-edit:hover {\n  color: #1f8a4c;\n}\n\n.btn-delete:hover {\n  color: #d33;\n}\n\n.btn-edit.btn-text:active,\n.btn-delete.btn-text:active {\n  transform: scale(0.95);\n}\n\n.btn-edit.btn-text,\n.btn-delete.btn-text {\n  padding: 0.35rem;\n  display: grid;\n  place-items: center;\n}\n\n.btn-edit.btn-text svg,\n.btn-delete.btn-text svg {\n  width: 1.5rem;\n  height: 1.5rem;\n  fill: currentColor;\n}\n",""]);const s=a},781(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".dialog {\n  border: none;\n  border-radius: 1rem;\n  padding: 0;\n  background: #e4efff;\n  width: min(520px, 92vw);\n  margin: auto;\n  color: #1e40af;\n}\n\n.dialog::backdrop {\n  background: rgba(0, 0, 0, 0.25);\n}\n\n.dialog form {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1.5rem;\n}\n\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.input-group label {\n  font-size: 0.95rem;\n  font-weight: 600;\n  color: #1e40af;\n}\n\n.input-group input,\n.input-group textarea,\n.input-group select {\n  padding: 0.8rem 0.9rem;\n  border-radius: 0.5rem;\n  border: 1px solid #dbeafe;\n  background: #ffffff;\n  font-size: 1rem;\n  color: #1e40af;\n  outline: none;\n}\n\n.input-group input:focus,\n.input-group textarea:focus,\n.input-group select:focus {\n  border-color: #2563eb;\n}\n\n.input-group #priority {\n  text-transform: uppercase;\n}\n\n.input-group textarea {\n  min-height: 60px;\n  resize: vertical;\n}\n\n.checkbox-group {\n  flex-direction: row;\n  align-items: center;\n}\n\n.checkbox-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: 500;\n  color: #1e40af;\n}\n\n.checkbox-group input[type='checkbox'] {\n  width: 1rem;\n  height: 1rem;\n  accent-color: #2563eb;\n}\n\n.checkbox-group input[type='checkbox']:focus {\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.35);\n}\n\n.dialog button {\n  padding: 0.9rem 0.95rem;\n  border-radius: 0.5rem;\n  border: none;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n\n.dialog .create-btn,\n.dialog .update-btn {\n  background: #2563eb;\n  color: #ffffff;\n}\n\n.dialog .create-btn:hover,\n.dialog .update-btn:hover {\n  background: #1d4ed8;\n}\n\n.dialog .cancel-btn {\n  border: 1px solid #d1d5db;\n  background: #dbeafe;\n  color: #1e40af;\n}\n\n.dialog .cancel-btn:hover {\n  background: #ffffff;\n  color: #777777;\n}\n\n.dialog form button + button {\n  margin-top: 4px;\n}\n",""]);const s=a},953(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".project-menu {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.project-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.project-list li button {\n  width: 100%;\n}\n\n.project-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.project-actions {\n  display: flex;\n  gap: 0.25rem;\n}\n",""]);const s=a},612(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".todo-detail {\n  max-width: 800px;\n  margin: auto;\n  padding: 1.5rem;\n  border-radius: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\n.todo-detail .todo-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n}\n\n.todo-header .todo-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.todo-detail .todo-title {\n  font-size: 28px;\n  font-weight: 700;\n}\n\n.todo-detail .todo-description {\n  color: #777777;\n  line-height: 1.5;\n}\n\n.todo-detail .meta-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n  margin: 0;\n}\n\n.todo-detail .meta-item {\n  background: #f1f3f8;\n  padding: 10px 14px;\n  border-radius: 10px;\n  min-width: 120px;\n}\n\n.todo-detail .meta-item dt {\n  font-size: 12px;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  color: #888;\n  margin-bottom: 4px;\n}\n\n.todo-detail .meta-item dd {\n  margin: 0;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.todo-detail .priority.high {\n  color: #d33;\n}\n\n.todo-detail .priority.medium {\n  color: #c98a00;\n}\n\n.todo-detail .priority.low {\n  color: #1f8a4c;\n}\n\n.todo-detail .status.completed {\n  color: #1f8a4c;\n}\n\n.todo-detail .status.pending {\n  color: #4a67d6;\n}\n\n.todo-detail .status.overdue {\n  color: #d33;\n}\n\n.todo-detail .status.none {\n  color: #000000;\n}\n\n.todo-detail .todo-notes h2 {\n  margin: 0 0 8px;\n  font-size: 18px;\n}\n\n.todo-detail .todo-notes p {\n  min-height: 3.5rem;\n  margin: 0;\n  line-height: 1.6;\n  color: #444;\n  background: #f1f3f8;\n  padding: 1rem;\n  border-radius: 10px;\n}\n",""]);const s=a},184(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".todo-section {\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n}\n\n.todo-list {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.todo-item {\n  padding-inline: 0.25rem;\n  display: grid;\n  grid-template-columns: 1rem 1fr auto auto;\n  gap: 1rem;\n  align-items: center;\n  border-bottom: 1px solid #eee;\n}\n\n.todo-item:hover {\n  filter: brightness(0.93);\n}\n\n.todo-item:last-child {\n  border-bottom: none;\n}\n\n.todo-item.completed {\n  opacity: 0.6;\n}\n\n.todo-item.completed button {\n  color: #777777;\n  text-decoration: line-through;\n}\n\n.todo-status {\n  width: 1.05rem;\n  height: 1.05rem;\n  cursor: pointer;\n}\n\n.todo-title {\n  font-size: 1rem;\n  font-weight: 500;\n}\n\n.todo-title button {\n  padding: 0.5rem 1rem;\n  width: 100%;\n}\n\n.todo-due-date {\n  font-size: 13px;\n  color: #777777;\n}\n\n#add-todo-btn {\n  padding: 0.5rem 1rem;\n  text-align: center;\n  border-top: 1px solid #eee;\n  background: white;\n}\n\n#add-todo-btn:hover {\n  filter: brightness(0.93);\n  color: #1d4ed8;\n}\n\n.todo-priority {\n  font-size: 0.8rem;\n  padding: 0.25rem 0.5rem;\n  border-radius: 999px;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.todo-priority.high {\n  background: #ffe5e5;\n  color: #d33;\n}\n\n.todo-priority.medium {\n  background: #fff4d6;\n  color: #c98a00;\n}\n\n.todo-priority.low {\n  background: #e7f7ec;\n  color: #1f8a4c;\n}\n\n.todo-empty {\n  padding: 1rem;\n  text-align: center;\n  color: #777777;\n  font-size: 1rem;\n  font-weight: 500;\n  font-style: italic;\n}\n",""]);const s=a},983(t,e,n){n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,"body {\n  display: grid;\n  grid-template-columns: 200px 1fr;\n}\n\n.sidebar {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  background-color: #f1f1f1;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\nmain {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n",""]);const s=a},249(t,e,n){n.d(e,{A:()=>g});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),s=n(365),d=n(983),c=n(672),u=n(919),l=n(781),p=n(184),h=n(612),f=n(953),m=a()(o());m.i(s.A),m.i(d.A),m.i(c.A),m.i(u.A),m.i(l.A),m.i(p.A),m.i(h.A),m.i(f.A),m.push([t.id,"\n",""]);const g=m},314(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(a[d]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},601(t){t.exports=function(t){return t[1]}},72(t){var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var d=t[s],c=r.base?d[0]+r.base:d[0],u=i[c]||0,l="".concat(c," ").concat(u);i[c]=u+1;var p=n(l),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var f=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:f,references:1})}a.push(l)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var d=r(t,o),c=0;c<i.length;c++){var u=n(i[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=d}}},659(t){var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),s=n(659),d=n.n(s),c=n(56),u=n.n(c),l=n(540),p=n.n(l),h=n(113),f=n.n(h),m=n(249),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=d().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),o()(m.A,g),m.A&&m.A.locals&&m.A.locals;const b={activeProjectId:null,activeTodoId:null,renderingPage:null,uiMode:null};class w{generate(){throw new Error("Not implemented")}}class y extends w{generate(){return crypto.randomUUID()}}class v{load(t){throw new Error("Not implemented")}save(t,e){throw new Error("Not implemented")}}class x extends v{load(t){return JSON.parse(localStorage.getItem(t))||[]}save(t,e){return localStorage.setItem(t,JSON.stringify(e))}}class M{constructor({id:t,title:e,description:n="",notes:r="",dueDate:o=null,priority:i="low",projectId:a="1",completed:s=!1}){this.id=t,this.title=e,this.description=n,this.notes=r,this.dueDate=o?new Date(o):null,this.priority=i,this.projectId=a,this.completed=s}}class j{constructor(t){this.storage=t,this.key="todos"}getAll(){return(this.storage.load(this.key)||[]).map(t=>new M(t))}getById(t){return this.getAll().find(e=>e.id===t)}create(t){const e=this.getAll();return e.push(t),this.storage.save(this.key,e),t}update(t){const e=this.getAll().map(e=>e.id===t.id?t:e);this.storage.save(this.key,e)}deleteById(t){const e=this.getAll().filter(e=>e.id!==t);this.storage.save(this.key,e)}deleteAll(){this.storage.save(this.key,[])}}class P{constructor({id:t,name:e,description:n=""}){this.id=t,this.name=e,this.description=n}}class k{constructor(t){this.storage=t,this.key="project"}getAll(){return(this.storage.load(this.key)||[]).map(t=>new P(t))}getById(t){return this.getAll().find(e=>e.id===t)}create(t){const e=this.getAll();return e.push(t),this.storage.save(this.key,e),t}update(t){const e=this.getAll().map(e=>e.id===t.id?t:e);this.storage.save(this.key,e)}deleteById(t){const e=this.getAll().filter(e=>e.id!==t);this.storage.save(this.key,e)}deleteAll(){this.storage.save(this.key,"")}}const D=["low","medium","high"];function T(t){if("string"!=typeof t||""===t.trim())throw new Error("Title is required")}function C(t){if(!D.includes(t))throw new Error("Invalid priority")}function S(t){if(null==t||""===t.trim())return;const e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid due date")}class A{constructor(t,e,n){this.todoRepository=t,this.projectRepository=e,this.idGenerator=n}getAllTodo(){return this.todoRepository.getAll()||[]}getTodoById(t){return this.todoRepository.getById(t)||[]}getTodosByProjectId(t){return this.todoRepository.getAll().filter(e=>e.projectId===t)||[]}createTodo(t){if(function(t){T(t.title),"priority"in t&&C(t.priority),"dueDate"in t&&S(t.dueDate)}(t),!this.projectRepository.getById(t.projectId))throw new Error("Project is not found");const e=new M({...t,id:this.idGenerator.generate(),title:t.title.trim(),dueDate:"dueDate"in t?new Date(t.dueDate):null});return this.todoRepository.create(e),e}updateTodo(t){!function(t){"title"in t&&T(t.title),"priority"in t&&C(t.priority),"dueDate"in t&&S(t.dueDate)}(t);const e=this.todoRepository.getById(t.id);if(!e)throw new Error("Todo not found");const n=t.projectId??e.projectId;if(!this.projectRepository.getById(n))throw new Error("Project is not found");const r=new M({id:e.id,title:t.title?.trim()??e.title,description:t.description??e.description,notes:t.notes??e.notes,dueDate:"dueDate"in t?new Date(t.dueDate):e.dueDate,priority:t.priority??e.priority,projectId:n,completed:t.completed??e.completed});return this.todoRepository.update(r),r}deleteTodoById(t){if(!this.todoRepository.getById(t))throw new Error("Todo not found");this.todoRepository.deleteById(t)}deleteAllTodo(){this.todoRepository.deleteAll()}toggleComplete(t){const e=this.todoRepository.getById(t);if(!e)throw new Error("Todo not found");const n=new M({...e,completed:!e.completed});return this.todoRepository.update(n),n}isOverdue(t){if(!t)throw new Error("Date is required");return t-new Date<0}}const E="default-project",I="PROJECT",O="TODO_DETAIL",L=null,N="CREATE_TODO",B="EDIT_TODO",W="CREATE_PROJECT",q="EDIT_PROJECT";function H(t){if("string"!=typeof t||""===t.trim())throw new Error("Name is required")}class R{constructor(t,e){this.projectRepository=t,this.idGenerator=e}getAllProject(){return this.projectRepository.getAll()||[]}getProjectById(t){return this.projectRepository.getById(t)||[]}initDefaultProject(){const t=this.projectRepository.getById(E);if(t)return t;const e=new P({id:E,name:"Default Project",description:"This is the default project"});return this.projectRepository.create(e),e}createProject(t){!function(t){H(t.name)}(t);const e=new P({...t,id:this.idGenerator.generate(),name:t.name.trim()});return this.projectRepository.create(e),e}updateProject(t){!function(t){"name"in t&&H(t.name)}(t);const e=this.projectRepository.getById(t.id);if(!e)throw new Error("Project not found");const n=new P({id:e.id,name:t.name?.trim()??e.name,description:t.description??e.description});return this.projectRepository.update(n),n}deleteProjectById(t){if(!this.projectRepository.getById(t))throw new Error("Project not found");this.projectRepository.deleteById(t)}deleteAllProject(){this.projectRepository.deleteAll()}}function Y(t,{id:e,class:n,text:r,children:o=[],attrs:i={}}={}){if("string"!=typeof t||""===t.trim())throw new Error("Invalid tag name");const a=document.createElement(t);e&&(a.id=e),n&&(a.className=n),r&&(a.textContent=r);for(const t in i){if(!Object.hasOwn(i,t))continue;const e=i[t];!0===e?a.setAttribute(t,""):!1!==e&&null!=e&&a.setAttribute(t,e)}return o.forEach(t=>{a.appendChild(t instanceof Node?t:document.createTextNode(t))}),a}function F(t,e,n,r="text",o="",i=!1){return Y("div",{class:"input-group",children:[Y("label",{text:t,attrs:{for:e}}),Y("input",{id:e,attrs:{type:r,name:n,value:o??"",required:i}})]})}function z(t,e,n,r=[],o="",i=!1){const a=Y("select",{id:e,attrs:{name:n,required:i}});return r.forEach(t=>{const e=Y("option",{text:t.label,attrs:{value:t.value}});a.appendChild(e)}),o&&(a.value=o),Y("div",{class:"input-group",children:[Y("label",{text:t,attrs:{for:e}}),a]})}function X(t,e){const n=Y("button",{class:"btn-delete btn-text"});return n.innerHTML='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"/>\n</svg>',n.addEventListener("click",e),t.append(n),n}function G(t,e){const n=Y("button",{class:"btn-edit btn-text"});return n.innerHTML='\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n  <path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"/>\n</svg>',n.addEventListener("click",e),t.append(n),n}Math.pow(10,8);const Q=6048e5,$=43200,J=Symbol.for("constructDateFrom");function U(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&J in t?t[J](e):t instanceof Date?new t.constructor(e):new Date(e)}const _={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function V(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Z={date:V({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:V({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:V({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},K={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function tt(t){return(e,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):e;r=t.formattingValues[o]||t.formattingValues[e]}else{const e=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[e]}return r[t.argumentCallback?t.argumentCallback(e):e]}}const et={ordinalNumber:(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:tt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:tt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:tt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:tt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:tt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function nt(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const a=i[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(s)?function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}(s,t=>t.test(a)):function(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}(s,t=>t.test(a));let c;return c=t.valueCallback?t.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:e.slice(a.length)}}}const rt={ordinalNumber:(ot={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},(t,e={})=>{const n=t.match(ot.matchPattern);if(!n)return null;const r=n[0],o=t.match(ot.parsePattern);if(!o)return null;let i=ot.valueCallback?ot.valueCallback(o[0]):o[0];return i=e.valueCallback?e.valueCallback(i):i,{value:i,rest:t.slice(r.length)}}),era:nt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:nt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:nt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:nt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:nt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var ot;const it={code:"en-US",formatDistance:(t,e,n)=>{let r;const o=_[t];return r="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Z,formatRelative:(t,e,n,r)=>K[t],localize:et,match:rt,options:{weekStartsOn:0,firstWeekContainsDate:1}};let at={};function st(){return at}function dt(t,e){return U(e||t,t)}function ct(t){const e=dt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ut(t,...e){const n=U.bind(null,t||e.find(t=>"object"==typeof t));return e.map(n)}function lt(t,e){const n=+dt(t)-+dt(e);return n<0?-1:n>0?1:n}function pt(t,e){const n=dt(t,e?.in);return+function(t,e){const n=dt(t,e?.in);return n.setHours(23,59,59,999),n}(n,e)===+function(t,e){const n=dt(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}(n,e)}function ht(t,e,n){const[r,o,i]=ut(n?.in,t,t,e),a=lt(o,i),s=Math.abs(function(t,e,n){const[r,o]=ut(n?.in,t,e);return 12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth())}(o,i));if(s<1)return 0;1===o.getMonth()&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-a*s);let d=lt(o,i)===-a;pt(r)&&1===s&&1===lt(r,i)&&(d=!1);const c=a*(s-+d);return 0===c?0:c}function ft(t,e,n){const r=function(t,e){return+dt(t)-+dt(e)}(t,e)/1e3;return(o=n?.roundingMethod,t=>{const e=(o?Math[o]:Math.trunc)(t);return 0===e?0:e})(r);var o}function mt(t,e){return function(t,e,n){const r=st(),o=n?.locale??r.locale??it,i=lt(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:i}),[s,d]=ut(n?.in,...i>0?[e,t]:[t,e]),c=ft(d,s),u=(ct(d)-ct(s))/1e3,l=Math.round((c-u)/60);let p;if(l<2)return n?.includeSeconds?c<5?o.formatDistance("lessThanXSeconds",5,a):c<10?o.formatDistance("lessThanXSeconds",10,a):c<20?o.formatDistance("lessThanXSeconds",20,a):c<40?o.formatDistance("halfAMinute",0,a):c<60?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",1,a):0===l?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",l,a);if(l<45)return o.formatDistance("xMinutes",l,a);if(l<90)return o.formatDistance("aboutXHours",1,a);if(l<1440){const t=Math.round(l/60);return o.formatDistance("aboutXHours",t,a)}if(l<2520)return o.formatDistance("xDays",1,a);if(l<$){const t=Math.round(l/1440);return o.formatDistance("xDays",t,a)}if(l<86400)return p=Math.round(l/$),o.formatDistance("aboutXMonths",p,a);if(p=ht(d,s),p<12){const t=Math.round(l/$);return o.formatDistance("xMonths",t,a)}{const t=p%12,e=Math.trunc(p/12);return t<3?o.formatDistance("aboutXYears",e,a):t<9?o.formatDistance("overXYears",e,a):o.formatDistance("almostXYears",e+1,a)}}(t,function(t){return U(t,Date.now())}(t),e)}function gt(t,e){const{appState:n,projectService:r,todoService:o,controller:i}=e,a=n.activeProjectId;!function(t,e,n){const{id:r,name:o,description:i=""}=e,a=Y("section",{class:"project-section",attrs:{"data-id":r}}),s=Y("h1",{class:"project-title",text:o}),d=Y("div",{class:"project-header",children:[s]}),c=Y("p",{class:"project-description",text:i}),u=Y("div",{class:"project-actions"});G(u,()=>n.requestEdit(r)),r!==E&&X(u,()=>n.deleteProject(r)),d.append(u),a.append(d,c),t.append(a)}(t,r.getProjectById(a),i.projectController);const s=function(t){const e=Y("section",{class:"todo-section"});return t.append(e),e}(t);(function(t,e,n){if(!Array.isArray(e))throw new Error("Todos must be an Array");const r=Y("ul",{id:"todo-list",class:"todo-list"}),o=document.createDocumentFragment();0===e.length&&function(t){const e=Y("li",{class:"todo-empty",text:"No todos yet"});t.append(e)}(o),e.forEach(t=>function(t,{id:e,title:n,priority:r,dueDate:o,completed:i}){const a=o?mt(o,{addSuffix:!0}):"NONE",s=Y("li",{class:"todo-item "+(i?"completed":""),attrs:{"data-id":e},children:[Y("input",{class:"todo-status",attrs:{type:"checkbox",checked:i??!1}}),Y("h2",{class:"todo-title",children:[Y("button",{class:"btn-text",text:n})]}),Y("span",{class:`todo-priority ${r.toLowerCase()}`,text:r}),Y("span",{class:"todo-due-date",text:a})]});return t.append(s),s}(o,t)),r.addEventListener("change",t=>function(t,e){const n=t.target.closest(".todo-status");if(!n)return;const r=t.target.closest(".todo-item");if(!r)return;const o=r.dataset.id,i=e.toggleComplete(o);r.classList.toggle("completed",i.completed),n.checked=i.completed}(t,n)),r.addEventListener("click",t=>function(t,e){if(!t.target.closest(".todo-title"))return;const n=t.target.closest(".todo-item").dataset.id;e.openDetail(n)}(t,n)),r.append(o),t.append(r)})(s,o.getTodosByProjectId(a),i.todoController),function(t,e){const n=Y("button",{id:"add-todo-btn",class:"btn-text",text:"+ Add Todo"});n.addEventListener("click",e.requestCreate),t.append(n)}(s,i.todoController)}function bt(t,e){const n=dt(t,e?.in);return n.setHours(0,0,0,0),n}function wt(t,e){const n=dt(t,e?.in);return function(t,e,n){const[r,o]=ut(n?.in,t,e),i=bt(r),a=bt(o),s=+i-ct(i),d=+a-ct(a);return Math.round((s-d)/864e5)}(n,function(t,e){const n=dt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}(n))+1}function yt(t,e){const n=st(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=dt(t,e?.in),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function vt(t,e){return yt(t,{...e,weekStartsOn:1})}function xt(t,e){const n=dt(t,e?.in),r=n.getFullYear(),o=U(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=vt(o),a=U(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=vt(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Mt(t,e){const n=dt(t,e?.in),r=+vt(n)-+function(t,e){const n=xt(t,e),r=U(e?.in||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),vt(r)}(n);return Math.round(r/Q)+1}function jt(t,e){const n=dt(t,e?.in),r=n.getFullYear(),o=st(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=U(e?.in||t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const s=yt(a,e),d=U(e?.in||t,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const c=yt(d,e);return+n>=+s?r+1:+n>=+c?r:r-1}function Pt(t,e){const n=dt(t,e?.in),r=+yt(n,e)-+function(t,e){const n=st(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=jt(t,e),i=U(e?.in||t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),yt(i,e)}(n,e);return Math.round(r/Q)+1}function kt(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const Dt={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return kt("yy"===e?r%100:r,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):kt(n+1,2)},d:(t,e)=>kt(t.getDate(),e.length),a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,e)=>kt(t.getHours()%12||12,e.length),H:(t,e)=>kt(t.getHours(),e.length),m:(t,e)=>kt(t.getMinutes(),e.length),s:(t,e)=>kt(t.getSeconds(),e.length),S(t,e){const n=e.length,r=t.getMilliseconds();return kt(Math.trunc(r*Math.pow(10,n-3)),e.length)}},Tt={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),r=e>0?e:1-e;return n.ordinalNumber(r,{unit:"year"})}return Dt.y(t,e)},Y:function(t,e,n,r){const o=jt(t,r),i=o>0?o:1-o;return"YY"===e?kt(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):kt(i,e.length)},R:function(t,e){return kt(xt(t),e.length)},u:function(t,e){return kt(t.getFullYear(),e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dt.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=Pt(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):kt(o,e.length)},I:function(t,e,n){const r=Mt(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):kt(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):Dt.d(t,e)},D:function(t,e,n){const r=wt(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return kt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return kt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return kt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(o=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(o=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return Dt.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dt.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},k:function(t,e,n){let r=t.getHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dt.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dt.s(t,e)},S:function(t,e){return Dt.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return St(r);case"XXXX":case"XX":return At(r);default:return At(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return St(r);case"xxxx":case"xx":return At(r);default:return At(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ct(r,":");default:return"GMT"+At(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ct(r,":");default:return"GMT"+At(r,":")}},t:function(t,e,n){return kt(Math.trunc(+t/1e3),e.length)},T:function(t,e,n){return kt(+t,e.length)}};function Ct(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return 0===i?n+String(o):n+String(o)+e+kt(i,2)}function St(t,e){return t%60==0?(t>0?"-":"+")+kt(Math.abs(t)/60,2):At(t,e)}function At(t,e=""){const n=t>0?"-":"+",r=Math.abs(t);return n+kt(Math.trunc(r/60),2)+e+kt(r%60,2)}const Et=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},It=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Ot={p:It,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Et(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",Et(r,e)).replace("{{time}}",It(o,e))}},Lt=/^D+$/,Nt=/^Y+$/,Bt=["D","DD","YY","YYYY"];function Wt(t){return!(!((e=t)instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))&&"number"!=typeof t||isNaN(+dt(t)));var e}const qt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ht=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rt=/^'([^]*?)'?$/,Yt=/''/g,Ft=/[a-zA-Z]/;function zt(t){const e=t.match(Rt);return e?e[1].replace(Yt,"'"):t}function Xt(t,e){const{appState:n,projectService:r,todoService:o,controller:i}=e;!function(t,e,n,r){const o=function(t,e,n){const r=st(),o=n?.locale??r.locale??it,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=dt(t,n?.in);if(!Wt(s))throw new RangeError("Invalid time value");let d=e.match(Ht).map(t=>{const e=t[0];return"p"===e||"P"===e?(0,Ot[e])(t,o.formatLong):t}).join("").match(qt).map(t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:zt(t)};if(Tt[e])return{isToken:!0,value:t};if(e.match(Ft))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}});o.localize.preprocessor&&(d=o.localize.preprocessor(s,d));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return d.map(r=>{if(!r.isToken)return r.value;const i=r.value;return(!n?.useAdditionalWeekYearTokens&&function(t){return Nt.test(t)}(i)||!n?.useAdditionalDayOfYearTokens&&function(t){return Lt.test(t)}(i))&&function(t,e,n){const r=function(t,e,n){const r="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,n);if(console.warn(r),Bt.includes(t))throw new RangeError(r)}(i,e,String(t)),(0,Tt[i[0]])(s,i,o.localize,c)}).join("")}(e.dueDate,"dd MMMM yyyy");let i;i=e.completed?"Completed":e.dueDate&&r.isOverdue(e.dueDate)?"Overdue":e.dueDate&&!r.isOverdue(e.dueDate)?"Pending":"None";const a=Y("article",{id:"todo-detail",class:"todo-detail"}),s=Y("h1",{class:"todo-title",text:e.title}),d=Y("div",{class:"todo-actions"}),c=Y("p",{class:"todo-description",text:e.description}),u=Y("header",{class:"todo-header",children:[s,d]});G(d,()=>r.requestEdit(e.id)),X(d,()=>r.deleteTodo(e.id));const l=(t,e)=>Y("div",{class:"meta-item",children:[Y("dt",{text:t}),e]}),p=Y("dl",{class:"meta-list",children:[l("Priority",Y("dd",{class:`priority ${e.priority.toLowerCase()}`,text:e.priority.toUpperCase()})),l("Project",Y("dd",{text:n.name})),l("Status",Y("dd",{class:`status ${i.toLowerCase()}`,text:i.toUpperCase()})),l("Due date",Y("dd",{children:[e.dueDate?Y("time",{attrs:{datetime:e.dueDate},text:o}):"NONE"]}))]}),h=Y("section",{class:"todo-meta",children:[p]}),f=Y("section",{class:"todo-notes",children:[Y("h2",{text:"Notes"}),Y("p",{text:e.notes})]});a.append(u,e.description?c:"",h,f),t.appendChild(a)}(t,o.getTodoById(n.activeTodoId),r.getProjectById(n.activeProjectId),i.todoController)}function Gt(t,e){const{appState:n,projectService:r,controller:o}=e,i=n.activeProjectId,a=function(t){const e=Y("nav",{class:"project-menu"});return t.append(e),e}(t);(function(t,e,n,r){if(!Array.isArray(e))throw new Error("Projects must be an Array");const o=Y("ul",{id:"project-list",class:"project-list"}),i=document.createDocumentFragment();e.forEach(t=>function(t,{id:e,name:n,isActive:r}){const o=Y("li",{class:"project-item",attrs:{"data-id":e},children:[Y("button",{class:"btn-text "+(r?"active":""),text:n})]});return t.append(o),o}(i,{...t,isActive:n===t.id})),o.addEventListener("click",t=>function(t,e){const n=t.target.closest(".project-item");if(!n)return;document.querySelectorAll(".project-list .btn-text").forEach(t=>t.classList.remove("active")),t.target.closest(".btn-text").classList.add("active");const r=n.dataset.id;e.openProject(r)}(t,r)),o.append(i),t.append(o)})(a,r.getAllProject(),i,o.projectController),function(t,e){const n=Y("button",{id:"add-project-btn",class:"btn-text",text:"+ Add Project"});n.addEventListener("click",e.requestCreate),t.append(n)}(a,o.projectController)}function Qt(t,e,n,r,o){const{projectController:i,todoController:a}=o,s=i.getAllProject(),d=Y("form",{id:"todoForm"}),c=F("Task Title","title","title","text",n?.title,!0),u=F("Short Description","description","description","text",n?.description,!1),l=function(t,e,n,r="",o=!1){return Y("div",{class:"input-group",children:[Y("label",{text:t,attrs:{for:e}}),Y("textarea",{id:e,text:r??"",attrs:{name:n,required:o}})]})}("Detailed Notes","notes","notes",n?.notes,!1),p=F("Deadline","dueDate","dueDate","date",n?.dueDate,!1),h=z("Priority Level","priority","priority",[{label:"low",value:"low"},{label:"medium",value:"medium"},{label:"high",value:"high"}],n?.priority??"low",!1),f=z("Assign to Project","project","project",s.map(t=>({label:t.name,value:t.id})),n?.projectId??r,!1),m=function(t,e,n,r=!1,o=!1){return Y("div",{class:"input-group checkbox-group",children:[Y("label",{attrs:{for:e},children:[Y("input",{id:e,attrs:{type:"checkbox",name:n,checked:r,required:o}}),` ${t}`]})]})}("Mark as Completed","status","status",n?.completed),g=Y("button",{id:"cancelTodoBtn",class:"cancel-btn",text:"Cancel",attrs:{type:"button"}}),b=Y("button",{id:"submitTodoBtn",class:e?"create-btn":"update-btn",text:e?"Create":"Update",attrs:{type:"submit"}});return d.append(c,u,l,p,h,f,m,b,g),t.open(d),g.addEventListener("click",()=>{a.cancelChanges(),d.reset(),t.close()}),d.addEventListener("submit",e=>{e.preventDefault();const r=new FormData(d),o={id:n?.id,title:r.get("title"),description:r.get("description"),notes:r.get("notes"),dueDate:r.get("dueDate"),priority:r.get("priority"),projectId:r.get("project"),completed:r.has("status")};a.saveTodo(o),d.reset(),t.close()}),d}function $t(t,e,n,r){const{projectController:o}=r,i=Y("form",{id:"projectForm"}),a=F("Project Name","name","name","text",n?.name,!0),s=F("Project Description","description","description","text",n?.description,!1),d=Y("button",{id:"cancelProjectBtn",class:"cancel-btn",text:"Cancel",attrs:{type:"button"}}),c=Y("button",{id:"submitProjectBtn",class:e?"create-btn":"update-btn",text:e?"Create":"Update",attrs:{type:"submit"}});return i.append(a,s,c,d),t.open(i),d.addEventListener("click",()=>{o.cancelChanges(),i.reset(),t.close()}),i.addEventListener("submit",e=>{e.preventDefault();const r=new FormData(i),a=Object.fromEntries(r);a.id=n?.id,o.saveProject(a),i.reset(),t.close()}),i}const Jt=n.p+"9a8f590cf018e4c7ea8e.webp";!function(){const t=new y,e=new x,n=new j(e),r=new k(e),o=new A(n,r,t),i=new R(r,t),a=i.initDefaultProject();b.activeProjectId=a.id,b.renderingPage=I;const s=function(t){const e=Y("dialog",{class:"dialog"});return{dialog:e,open:n=>{e.innerHTML="",e.append(n),t.append(e),e.showModal()},close:()=>{e.close(),e.remove()}}}(document.body),d=function({appState:t,service:e}){let n=()=>{},r=()=>{},o=()=>{};return{attachRenderers(t){n=t.renderLayout,o=t.renderModal,r=t.renderPage},openDetail(e){t.renderingPage=O,t.activeTodoId=e,r()},toggleComplete:t=>e.toggleComplete(t),requestCreate(){t.uiMode=N,t.activeTodoId=null,o()},requestEdit(e){t.uiMode=B,t.activeTodoId=e,o()},cancelChanges(){t.uiMode=L,t.activeTodoId=null},saveTodo(i){t.uiMode===N?e.createTodo(i):t.uiMode===B&&e.updateTodo(i),t.activeProjectId=i.projectId,t.activeTodoId=i.id,t.uiMode=L,o(),n(),r()},isOverdue:t=>e.isOverdue(t),deleteTodo(n){e.deleteTodoById(n),t.renderingPage=I,r()}}}({appState:b,service:o}),c=function({appState:t,service:e}){let n=()=>{},r=()=>{},o=()=>{};return{attachRenderers(t){n=t.renderLayout,o=t.renderModal,r=t.renderPage},getAllProject:()=>e.getAllProject(),openProject(e){t.activeProjectId=e,t.activeTodoId=null,t.renderingPage=I,r()},requestCreate(){t.uiMode=W,o()},requestEdit(e){t.uiMode=q,t.activeProjectId=e,o()},cancelChanges(){t.uiMode=L},saveProject(i){let a;t.uiMode===W?a=e.createProject(i):t.uiMode===q&&(a=e.updateProject(i)),t.activeProjectId=a.id,t.uiMode=L,o(),n(),r()},deleteProject(o){o!==E&&(e.deleteProjectById(o),t.activeProjectId=E,n(),r())}}}({appState:b,service:i}),u={appState:b,todoService:o,projectService:i},l=()=>{const t=document.getElementById("sidebar");t.innerHTML="",function(t){const e=Y("div",{children:[Y("div",{class:"user-info",children:[Y("img",{class:"profile-picture",attrs:{src:Jt,alt:"zain picture"}}),Y("p",{class:"name",text:"Zain"})]})]});t.append(e)}(t),Gt(t,{...u,controller:{projectController:c}})},p=()=>{const t=document.getElementById("main-content");t.innerHTML="",b.renderingPage===I?gt(t,{...u,controller:{projectController:c,todoController:d}}):b.renderingPage===O&&Xt(t,{...u,controller:{todoController:d}})},h=()=>{if(b.uiMode===N)Qt(s,!0,null,b.activeProjectId,{projectController:c,todoController:d});else if(b.uiMode===B){const t=o.getTodoById(b.activeTodoId);Qt(s,!1,t,b.activeProjectId,{projectController:c,todoController:d})}else if(b.uiMode===W)$t(s,!0,null,{projectController:c});else if(b.uiMode===q){const t=i.getProjectById(b.activeProjectId);$t(s,!1,t,{projectController:c})}else s.close()};d.attachRenderers({renderLayout:l,renderPage:p,renderModal:h}),c.attachRenderers({renderLayout:l,renderPage:p,renderModal:h}),l(),p()}()})();